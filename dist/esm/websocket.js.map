{"version":3,"file":"websocket.js","sources":["../../src/websocket.ts"],"sourcesContent":["import { usingBrowserWebSocket, WebSocket as WS, } from './websocket-constructor/index.js';\nvar isReactNative = typeof navigator !== 'undefined' &&\n    typeof navigator.product === 'string' &&\n    navigator.product.toLowerCase() === 'reactnative';\nvar WebSocket = /** @class */ (function () {\n    function WebSocket(url, protocols, options) {\n        if (usingBrowserWebSocket && !isReactNative) {\n            this.ws = new WS(url, protocols);\n        }\n        else {\n            this.ws = new WS(url, protocols, options);\n        }\n    }\n    Object.defineProperty(WebSocket.prototype, \"onopen\", {\n        set: function (cb) {\n            this.ws.onopen = cb;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WebSocket.prototype, \"onclose\", {\n        set: function (cb) {\n            this.ws.onclose = cb;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WebSocket.prototype, \"onerror\", {\n        set: function (cb) {\n            this.ws.onerror = cb;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WebSocket.prototype, \"onmessage\", {\n        set: function (cb) {\n            this.ws.onmessage = function (e) { return cb(e.data); };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WebSocket.prototype.send = function (data, opts) {\n        if (usingBrowserWebSocket) {\n            this.ws.send(data);\n        }\n        else {\n            this.ws.send(data, opts !== null && opts !== void 0 ? opts : {});\n        }\n    };\n    WebSocket.prototype.close = function () {\n        this.ws.close();\n    };\n    return WebSocket;\n}());\nexport { WebSocket };\n//# sourceMappingURL=websocket.js.map"],"names":["WS"],"mappings":";;AACA,IAAI,aAAa,GAAG,OAAO,SAAS,KAAK,WAAW;AACpD,IAAI,OAAO,SAAS,CAAC,OAAO,KAAK,QAAQ;AACzC,IAAI,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,aAAa,CAAC;AACnD,IAAC,SAAS,kBAAkB,YAAY;AAC3C,IAAI,SAAS,SAAS,CAAC,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE;AAChD,QAAQ,IAAI,qBAAqB,IAAI,CAAC,aAAa,EAAE;AACrD,YAAY,IAAI,CAAC,EAAE,GAAG,IAAIA,WAAE,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;AAC7C,SAAS;AACT,aAAa;AACb,YAAY,IAAI,CAAC,EAAE,GAAG,IAAIA,WAAE,CAAC,GAAG,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;AACtD,SAAS;AACT,KAAK;AACL,IAAI,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,QAAQ,EAAE;AACzD,QAAQ,GAAG,EAAE,UAAU,EAAE,EAAE;AAC3B,YAAY,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC;AAChC,SAAS;AACT,QAAQ,UAAU,EAAE,KAAK;AACzB,QAAQ,YAAY,EAAE,IAAI;AAC1B,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE;AAC1D,QAAQ,GAAG,EAAE,UAAU,EAAE,EAAE;AAC3B,YAAY,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC;AACjC,SAAS;AACT,QAAQ,UAAU,EAAE,KAAK;AACzB,QAAQ,YAAY,EAAE,IAAI;AAC1B,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE;AAC1D,QAAQ,GAAG,EAAE,UAAU,EAAE,EAAE;AAC3B,YAAY,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC;AACjC,SAAS;AACT,QAAQ,UAAU,EAAE,KAAK;AACzB,QAAQ,YAAY,EAAE,IAAI;AAC1B,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,WAAW,EAAE;AAC5D,QAAQ,GAAG,EAAE,UAAU,EAAE,EAAE;AAC3B,YAAY,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;AACpE,SAAS;AACT,QAAQ,UAAU,EAAE,KAAK;AACzB,QAAQ,YAAY,EAAE,IAAI;AAC1B,KAAK,CAAC,CAAC;AACP,IAAI,SAAS,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,IAAI,EAAE,IAAI,EAAE;AACrD,QAAQ,IAAI,qBAAqB,EAAE;AACnC,YAAY,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC/B,SAAS;AACT,aAAa;AACb,YAAY,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;AAC7E,SAAS;AACT,KAAK,CAAC;AACN,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;AAC5C,QAAQ,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;AACxB,KAAK,CAAC;AACN,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC,EAAE;;;;"}